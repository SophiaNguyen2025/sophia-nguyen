<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tr·∫Øc nghi·ªám Phong c√°ch G·∫Øn b√≥</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <style>
    body {
      background: linear-gradient(120deg, #fce4ec, #e0f7fa);
      padding: 2rem;
      font-family: 'Segoe UI', sans-serif;
    }
    .question-box {
      background: #fff;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      max-width: 700px;
      margin: auto;
    }
    .result-box {
      background: #fff3fc;
      border-left: 8px solid #ce93d8;
      padding: 1.5rem;
      border-radius: 12px;
      margin-top: 2rem;
    }
    .hidden { display: none; }
    progress { width: 100%; margin-bottom: 1rem; }
    .result-title {
      font-weight: bold;
      font-size: 1.5rem;
      color: #6a1b9a;
    }
    .form-step { margin-bottom: 2rem; }
  </style>
</head>
<body>
  <main class="question-box">
    <h2>Tr·∫Øc nghi·ªám Phong c√°ch G·∫Øn b√≥ (Ng∆∞·ªùi tr∆∞·ªüng th√†nh)</h2>
    <div id="form-step" class="form-step">
      <form id="user-info-form">
        <label for="name">H·ªç t√™n</label>
        <input type="text" id="name" name="name" required>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>

        <label for="phone">S·ªë ƒëi·ªán tho·∫°i</label>
        <input type="tel" id="phone" name="phone" required>

        <button type="submit">B·∫Øt ƒë·∫ßu tr·∫Øc nghi·ªám</button>
      </form>
    </div>

    <div id="quiz-step" class="hidden">
      <p>Tr·∫£ l·ªùi 20 c√¢u h·ªèi b√™n d∆∞·ªõi b·∫±ng c√°ch ch·ªçn ƒê√∫ng ho·∫∑c Sai. H√£y th√†nh th·∫≠t ƒë·ªÉ c√≥ k·∫øt qu·∫£ ch√≠nh x√°c nh·∫•t.</p>
      <progress id="progress" value="0" max="20"></progress>
      <div id="question-container"></div>
    </div>

    <div id="result-container" class="hidden"></div>
  </main>

  <script>
    const questions = [
      { text: "T√¥i th·∫•y d·ªÖ d√†ng th√¢n m·∫≠t v·ªõi ng∆∞·ªùi kh√°c.", group: "secure" },
      { text: "T√¥i kh√¥ng lo l·∫Øng vi·ªác ng∆∞·ªùi kh√°c s·∫Ω b·ªè r∆°i t√¥i.", group: "secure" },
      { text: "T√¥i th·∫•y tho·∫£i m√°i khi d·ª±a v√†o ng∆∞·ªùi kh√°c v√† ƒë·ªÉ ng∆∞·ªùi kh√°c d·ª±a v√†o t√¥i.", group: "secure" },
      { text: "T√¥i kh√¥ng ng·∫°i chia s·∫ª c·∫£m x√∫c c·ªßa m√¨nh v·ªõi ng∆∞·ªùi t√¥i tin t∆∞·ªüng.", group: "secure" },
      { text: "T√¥i c·∫£m th·∫•y ng∆∞·ªùi kh√°c s·∫Ω ·ªü b√™n khi t√¥i c·∫ßn.", group: "secure" },
      { text: "T√¥i th∆∞·ªùng lo l·∫Øng kh√¥ng bi·∫øt ng∆∞·ªùi y√™u c√≥ th·∫≠t s·ª± quan t√¢m ƒë·∫øn t√¥i kh√¥ng.", group: "anxious" },
      { text: "T√¥i s·ª£ ng∆∞·ªùi t√¥i y√™u s·∫Ω kh√¥ng mu·ªën g·∫ßn g≈©i v·ªõi t√¥i nh∆∞ t√¥i mong mu·ªën.", group: "anxious" },
      { text: "T√¥i th∆∞·ªùng lo b·ªã b·ªè r∆°i, d√π kh√¥ng c√≥ l√Ω do r√µ r√†ng.", group: "anxious" },
      { text: "T√¥i hay c·∫£m th·∫•y kh√¥ng ƒë·ªß t·ªët trong c√°c m·ªëi quan h·ªá.", group: "anxious" },
      { text: "T√¥i d·ªÖ r∆°i v√†o tr·∫°ng th√°i c·∫ßn ng∆∞·ªùi kia x√°c nh·∫≠n t√¨nh c·∫£m li√™n t·ª•c.", group: "anxious" },
      { text: "T√¥i th·∫•y kh√≥ chia s·∫ª c·∫£m x√∫c th·∫≠t v·ªõi ng∆∞·ªùi kh√°c.", group: "avoidant" },
      { text: "T√¥i kh√¥ng th√≠ch b·ªã ai ƒë√≥ ph·ª• thu·ªôc v√†o m√¨nh.", group: "avoidant" },
      { text: "T√¥i c·∫£m th·∫•y b·ªã g√≤ b√≥ khi ng∆∞·ªùi kh√°c qu√° g·∫ßn g≈©i v·ªõi m√¨nh.", group: "avoidant" },
      { text: "T√¥i nghƒ© r·∫±ng t√¥i kh√¥ng c·∫ßn ai ƒë·ªÉ ƒë∆∞·ª£c h·∫°nh ph√∫c.", group: "avoidant" },
      { text: "T√¥i th∆∞·ªùng t·ª± gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ thay v√¨ t√¨m ki·∫øm s·ª± gi√∫p ƒë·ª°.", group: "avoidant" },
      { text: "T√¥i v·ª´a mu·ªën g·∫ßn g≈©i, v·ª´a s·ª£ b·ªã t·ªïn th∆∞∆°ng.", group: "fearful" },
      { text: "T√¥i th∆∞·ªùng nghi ng·ªù li·ªáu m√¨nh c√≥ x·ª©ng ƒë√°ng ƒë∆∞·ª£c y√™u kh√¥ng.", group: "fearful" },
      { text: "T√¥i s·ª£ b·ªã t·ª´ ch·ªëi n√™n th∆∞·ªùng gi·ªØ kho·∫£ng c√°ch v·ªõi ng∆∞·ªùi kh√°c.", group: "fearful" },
      { text: "T√¥i hay c·∫£m th·∫•y m√¢u thu·∫´n gi·ªØa mong mu·ªën th√¢n m·∫≠t v√† s·ª£ m·∫•t t·ª± do.", group: "fearful" },
      { text: "T√¥i tr√°nh nh·ªØng m·ªëi quan h·ªá th√¢n thi·∫øt v√¨ s·ª£ b·ªã t·ªïn th∆∞∆°ng.", group: "fearful" }
    ];

    let current = 0;
    let scores = { secure: 0, anxious: 0, avoidant: 0, fearful: 0 };

    const formStep = document.getElementById("form-step");
    const quizStep = document.getElementById("quiz-step");
    const container = document.getElementById("question-container");
    const resultBox = document.getElementById("result-container");
    const progressBar = document.getElementById("progress");

    document.getElementById("user-info-form").addEventListener("submit", async function(e) {
      e.preventDefault();

      const formData = new FormData(this);
      await fetch("https://formspree.io/f/mleqgdgy", {
        method: "POST",
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      });

      formStep.classList.add("hidden");
      quizStep.classList.remove("hidden");
      renderQuestion();
    });

    function renderQuestion() {
      progressBar.value = current;
      if (current >= questions.length) {
        showResult();
        return;
      }
      const q = questions[current];
      container.innerHTML = `
        <p><strong>C√¢u ${current + 1}/${questions.length}:</strong> ${q.text}</p>
        <button onclick="answer(true)">ƒê√∫ng</button>
        <button onclick="answer(false)">Sai</button>
      `;
    }

    function answer(val) {
      if (val) scores[questions[current].group]++;
      current++;
      renderQuestion();
    }

    function showResult() {
      container.classList.add("hidden");
      resultBox.classList.remove("hidden");

      const topGroup = Object.entries(scores).sort((a, b) => b[1] - a[1])[0][0];
      const descriptions = {
        secure: `<div class="result-box"><p class="result-title">üå± Phong c√°ch G·∫Øn b√≥ An to√†n</p><p>B·∫°n c√≥ xu h∆∞·ªõng tin t∆∞·ªüng, c·ªüi m·ªü v√† c·∫£m th·∫•y tho·∫£i m√°i trong c√°c m·ªëi quan h·ªá th√¢n m·∫≠t. ƒê√¢y l√† n·ªÅn t·∫£ng t·ªët cho t√¨nh y√™u v√† s·ª± k·∫øt n·ªëi l√†nh m·∫°nh.</p></div>`,
        anxious: `<div class="result-box"><p class="result-title">üíì Phong c√°ch G·∫Øn b√≥ Lo √¢u</p><p>B·∫°n th∆∞·ªùng c·∫ßn s·ª± tr·∫•n an t·ª´ ng∆∞·ªùi kh√°c, lo s·ª£ b·ªã b·ªè r∆°i v√† c√≥ xu h∆∞·ªõng b√°m v√≠u. C√≥ th·ªÉ b·∫Øt ngu·ªìn t·ª´ thi·∫øu ·ªïn ƒë·ªãnh trong tu·ªïi th∆°.</p></div>`,
        avoidant: `<div class="result-box"><p class="result-title">üõ°Ô∏è Phong c√°ch G·∫Øn b√≥ L·∫£ng tr√°nh</p><p>B·∫°n gi·ªØ kho·∫£ng c√°ch c·∫£m x√∫c, kh√≥ tin t∆∞·ªüng ho·∫∑c chia s·∫ª. Th∆∞·ªùng b·∫°n t·ª± ch·ªß, nh∆∞ng c√≥ th·ªÉ tr√°nh n√© t·ªïn th∆∞∆°ng b·∫±ng c√°ch n√© tr√°nh th√¢n m·∫≠t.</p></div>`,
        fearful: `<div class="result-box"><p class="result-title">üå™Ô∏è Phong c√°ch G·∫Øn b√≥ S·ª£ h√£i/L∆∞·ª°ng l·ª±</p><p>B·∫°n c√≥ mong mu·ªën k·∫øt n·ªëi nh∆∞ng l·∫°i lo s·ª£ b·ªã t·ªïn th∆∞∆°ng. C√≥ th·ªÉ tr·∫£i qua nh·ªØng tr·∫£i nghi·ªám m√¢u thu·∫´n v·ªÅ t√¨nh c·∫£m trong qu√° kh·ª©.</p></div>`
      };

      resultBox.innerHTML = `
        <h3>K·∫øt qu·∫£ c·ªßa b·∫°n:</h3>
        ${descriptions[topGroup]}
        <br><p><strong>L∆∞u √Ω:</strong> ƒê√¢y ch·ªâ l√† ƒë√°nh gi√° tham kh·∫£o. N·∫øu b·∫°n mu·ªën hi·ªÉu s√¢u h∆°n, h√£y tr√≤ chuy·ªán v·ªõi chuy√™n gia t√¢m l√Ω.</p>
      `;
    }
  </script>
</body>
</html>
