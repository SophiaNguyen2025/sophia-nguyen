<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tr·∫Øc nghi·ªám Phong c√°ch G·∫Øn b√≥</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 30px;
      background: #f9f9f9;
    }
    h1, h2 {
      text-align: center;
    }
    label {
      display: block;
      margin: 8px 0;
    }
    .question {
      margin-bottom: 20px;
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .hidden { display: none; }
    .submit-btn, .result-btn {
      background-color: #4CAF50;
      color: white;
      padding: 12px 18px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .submit-btn:hover, .result-btn:hover {
      background-color: #45a049;
    }
    .result {
      margin-top: 30px;
      padding: 20px;
      background-color: #e7f3fe;
      border-left: 6px solid #2196F3;
    }
  </style>
</head>
<body>

  <h1>Tr·∫Øc nghi·ªám Phong c√°ch G·∫Øn b√≥</h1>
  <form id="survey-form" onsubmit="handleSubmit(event)">
    <label>H·ªç t√™n:
      <input type="text" name="name" required>
    </label>
    <label>Email:
      <input type="email" name="email" required>
    </label>

    <div id="questions"></div>

    <button type="submit" class="submit-btn">Xem k·∫øt qu·∫£</button>
  </form>

  <div id="result" class="result hidden"></div>

  <script>
    const questions = [
      {
        q: "1. Khi x·∫£y ra m√¢u thu·∫´n v·ªõi ng∆∞·ªùi y√™u ho·∫∑c b·∫°n th√¢n, b·∫°n th∆∞·ªùng:",
        answers: [
          { text: "Mu·ªën h·ªç ·ªü g·∫ßn ƒë·ªÉ ƒë∆∞·ª£c v·ªó v·ªÅ v√† gi·∫£i th√≠ch", type: "B" },
          { text: "Kh√¥ng mu·ªën ƒë·ªëi m·∫∑t, th∆∞·ªùng ch·ªçn c√°ch n√© tr√°nh", type: "D" },
          { text: "Gi·ªØ b√¨nh tƒ©nh v√† c·ªë g·∫Øng l·∫Øng nghe", type: "A" },
          { text: "N·ªïi n√≥ng ho·∫∑c c·∫£m th·∫•y kh√¥ng ƒë∆∞·ª£c y√™u th∆∞∆°ng", type: "C" },
        ]
      },
      {
        q: "2. Khi ng∆∞·ªùi kia kh√¥ng tr·∫£ l·ªùi tin nh·∫Øn, b·∫°n th∆∞·ªùng:",
        answers: [
          { text: "Th·∫•y b√¨nh th∆∞·ªùng, v√¨ tin v√†o s·ª± tin t∆∞·ªüng l·∫´n nhau", type: "A" },
          { text: "Nghƒ© h·ªç gi·∫≠n ho·∫∑c kh√¥ng c√≤n y√™u m√¨nh", type: "C" },
          { text: "Lo l·∫Øng, ki·ªÉm tra tin nh·∫Øn li√™n t·ª•c", type: "B" },
          { text: "Gi·∫£ v·ªù kh√¥ng quan t√¢m v√† t·ªè ra l·∫°nh nh·∫°t", type: "D" },
        ]
      },
      {
        q: "3. Khi b·∫Øt ƒë·∫ßu m·ªôt m·ªëi quan h·ªá m·ªõi, b·∫°n th∆∞·ªùng:",
        answers: [
          { text: "Th·∫≠n tr·ªçng, m·∫•t nhi·ªÅu th·ªùi gian ƒë·ªÉ m·ªü l√≤ng", type: "D" },
          { text: "C·ªüi m·ªü v√† tho·∫£i m√°i th·ªÉ hi·ªán b·∫£n th√¢n", type: "A" },
          { text: "Nghi ng·ªù t√¨nh c·∫£m c·ªßa ng∆∞·ªùi kia", type: "C" },
          { text: "D·ªÖ d√≠nh ch·∫∑t v√† mong ng∆∞·ªùi ƒë√≥ quan t√¢m li√™n t·ª•c", type: "B" },
        ]
      },
      {
        q: "4. Khi ng∆∞·ªùi m√¨nh y√™u c·∫ßn th·ªùi gian ri√™ng, b·∫°n:",
        answers: [
          { text: "C·∫£m th·∫•y b·ªã b·ªè r∆°i, b·∫•t an v√† bu·ªìn b√£", type: "B" },
          { text: "Th·∫•y t·ªïn th∆∞∆°ng v√† cho r·∫±ng h·ªç kh√¥ng c·∫ßn m√¨nh", type: "C" },
          { text: "T√¥n tr·ªçng v√† ·ªßng h·ªô kh√¥ng gian c√° nh√¢n c·ªßa h·ªç", type: "A" },
          { text: "L√πi l·∫°i, ƒë√¥i khi c√≥ xu h∆∞·ªõng tr√°nh n√© th√™m", type: "D" },
        ]
      },
      {
        q: "5. Khi c·∫£m th·∫•y b·ªã t·ªïn th∆∞∆°ng, b·∫°n th∆∞·ªùng:",
        answers: [
          { text: "N√≥i ra th·∫≥ng th·∫Øn v√† mong ƒë∆∞·ª£c th·∫•u hi·ªÉu", type: "A" },
          { text: "Im l·∫∑ng v√† r√∫t lui v√†o th·∫ø gi·ªõi ri√™ng", type: "D" },
          { text: "Tr·ªü n√™n g·∫Øt g·ªèng ho·∫∑c ki·ªÉm so√°t ƒë·ªëi ph∆∞∆°ng", type: "C" },
          { text: "Kh√≥c, g·ªçi ƒëi·ªán ho·∫∑c nh·∫Øn tin li√™n t·ª•c", type: "B" },
        ]
      },
      {
        q: "6. Khi y√™u ai ƒë√≥ s√¢u ƒë·∫≠m, b·∫°n th∆∞·ªùng:",
        answers: [
          { text: "Lo s·ª£ b·ªã b·ªè r∆°i, lu√¥n mu·ªën ƒë∆∞·ª£c kh·∫≥ng ƒë·ªãnh t√¨nh c·∫£m", type: "B" },
          { text: "Th∆∞·ªùng xuy√™n th·∫•y ghen tu√¥ng v√† nghi ng·ªù", type: "C" },
          { text: "Y√™u th∆∞∆°ng nh∆∞ng v·∫´n gi·ªØ ranh gi·ªõi l√†nh m·∫°nh", type: "A" },
          { text: "Gi·ªØ kho·∫£ng c√°ch v√† ƒë·ªÅ ph√≤ng t·ªïn th∆∞∆°ng", type: "D" },
        ]
      },
      {
        q: "7. Khi ng∆∞·ªùi y√™u gi·∫≠n d·ªØ ho·∫∑c r√∫t lui, b·∫°n:",
        answers: [
          { text: "C·ªë g·∫Øng d·ªó d√†nh v√† l√†m h√≤a ngay", type: "B" },
          { text: "Tr√°nh m·∫∑t v√† kh√¥ng mu·ªën n√≥i chuy·ªán", type: "D" },
          { text: "ƒê·ªëi tho·∫°i v√† t√¨m c√°ch gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ", type: "A" },
          { text: "Ph·∫£n ·ª©ng gay g·∫Øt v√† quy ch·ª•p l·ªói l·∫ßm", type: "C" },
        ]
      },
      {
        q: "8. Trong c√°c m·ªëi quan h·ªá, b·∫°n th∆∞·ªùng th·∫•y m√¨nh:",
        answers: [
          { text: "C·∫£m th·∫•y kh√≥ tin t∆∞·ªüng ai ho√†n to√†n", type: "D" },
          { text: "Lo l·∫Øng b·ªã t·ªïn th∆∞∆°ng nh∆∞ng v·∫´n y√™u h·∫øt l√≤ng", type: "B" },
          { text: "Th·∫•u hi·ªÉu, bi·∫øt c√°ch l·∫Øng nghe v√† chia s·∫ª", type: "A" },
          { text: "Th∆∞·ªùng ƒë√≤i h·ªèi s·ª± quan t√¢m v√† c·∫£m th·∫•y kh√¥ng ƒë·ªß", type: "C" },
        ]
      },
      {
        q: "9. Khi k·∫øt th√∫c m·ªôt m·ªëi quan h·ªá, b·∫°n th∆∞·ªùng:",
        answers: [
          { text: "C·ªë g·∫Øng gi·ªØ l·∫°i, d√π bi·∫øt kh√¥ng c√≤n ph√π h·ª£p", type: "B" },
          { text: "T·ª± tr√°ch b·∫£n th√¢n, nghƒ© r·∫±ng m√¨nh kh√¥ng x·ª©ng ƒë√°ng", type: "C" },
          { text: "Bu·ªìn nh∆∞ng ch·∫•p nh·∫≠n v√† r√∫t ra b√†i h·ªçc", type: "A" },
          { text: "Kh√¥ng n√≥i r√µ l√Ω do v√† √¢m th·∫ßm r·ªùi ƒëi", type: "D" },
        ]
      },
      {
        q: "10. B·∫°n mong mu·ªën ƒëi·ªÅu g√¨ nh·∫•t trong t√¨nh y√™u?",
        answers: [
          { text: "S·ª± b√¨nh y√™n, tin t∆∞·ªüng v√† t√¥n tr·ªçng", type: "A" },
          { text: "S·ª± chƒÉm s√≥c, ch√∫ √Ω v√† g·∫ßn g≈©i li√™n t·ª•c", type: "B" },
          { text: "Kh√¥ng b·ªã ki·ªÉm so√°t, v·∫´n gi·ªØ ƒë∆∞·ª£c t·ª± do c√° nh√¢n", type: "D" },
          { text: "ƒê∆∞·ª£c y√™u cu·ªìng nhi·ªát v√† th·ªÉ hi·ªán c·∫£m x√∫c m·∫°nh m·∫Ω", type: "C" },
        ]
      }
    ];

    const form = document.getElementById("survey-form");
    const questionsDiv = document.getElementById("questions");
    const resultDiv = document.getElementById("result");

    questions.forEach((q, i) => {
      const qDiv = document.createElement("div");
      qDiv.classList.add("question");
      const label = document.createElement("label");
      label.textContent = q.q;
      qDiv.appendChild(label);

      q.answers.forEach((ans, index) => {
        const id = `q${i}_a${index}`;
        const radio = document.createElement("input");
        radio.type = "radio";
        radio.name = `q${i}`;
        radio.value = ans.type;
        radio.id = id;
        radio.required = true;

        const answerLabel = document.createElement("label");
        answerLabel.setAttribute("for", id);
        answerLabel.innerText = ` ${String.fromCharCode(65 + index)}. ${ans.text}`;
        answerLabel.prepend(radio);
        qDiv.appendChild(answerLabel);
      });

      questionsDiv.appendChild(qDiv);
    });

    function handleSubmit(event) {
      event.preventDefault();

      const formData = new FormData(form);
      const score = { A: 0, B: 0, C: 0, D: 0 };
      for (let [key, value] of formData.entries()) {
        if (["A", "B", "C", "D"].includes(value)) score[value]++;
      }

      const maxType = Object.keys(score).reduce((a, b) => score[a] > score[b] ? a : b);

      const resultMap = {
        A: "üíö **Phong c√°ch G·∫Øn b√≥ An to√†n:** B·∫°n c√≥ kh·∫£ nƒÉng y√™u th∆∞∆°ng l√†nh m·∫°nh, bi·∫øt tin t∆∞·ªüng v√† duy tr√¨ ranh gi·ªõi t√≠ch c·ª±c.",
        B: "üíõ **Phong c√°ch G·∫Øn b√≥ Lo √¢u:** B·∫°n th∆∞·ªùng lo l·∫Øng b·ªã b·ªè r∆°i, khao kh√°t ƒë∆∞·ª£c y√™u th∆∞∆°ng v√† c·∫ßn c·∫£m gi√°c an to√†n th∆∞·ªùng xuy√™n.",
        C: "‚ù§Ô∏è **Phong c√°ch G·∫Øn b√≥ B·∫•t an - L·∫´n l·ªôn:** B·∫°n nh·∫°y c·∫£m, d·ªÖ t·ªïn th∆∞∆°ng v√† th∆∞·ªùng c√≥ ph·∫£n ·ª©ng c·∫£m x√∫c m·∫°nh, m√¢u thu·∫´n gi·ªØa c·∫ßn v√† s·ª£ y√™u.",
        D: "üíô **Phong c√°ch G·∫Øn b√≥ Tr√°nh n√©:** B·∫°n c√≥ xu h∆∞·ªõng gi·ªØ kho·∫£ng c√°ch, s·ª£ b·ªã ki·ªÉm so√°t v√† kh√≥ m·ªü l√≤ng trong c√°c m·ªëi quan h·ªá.",
      };

      const name = formData.get("name") || "";
      const email = formData.get("email") || "";

      resultDiv.classList.remove("hidden");
      resultDiv.innerHTML = `<h2>K·∫øt qu·∫£ c·ªßa b·∫°n, ${name}:</h2><p>${resultMap[maxType]}</p>`;

      // G·ª≠i v·ªÅ Formspree n·∫øu mu·ªën
      fetch("https://formspree.io/f/moqgvlge", {
        method: "POST",
        headers: { 'Accept': 'application/json' },
        body: JSON.stringify({
          H·ªç_t√™n: name,
          Email: email,
          Phong_c√°ch: resultMap[maxType].replace(/<[^>]*>?/gm, '')
        })
      });
    }
  </script>

</body>
</html>
