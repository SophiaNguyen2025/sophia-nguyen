<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trắc nghiệm Phong cách Gắn bó</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fdfcfe;
      color: #333;
      margin: 0;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #7f4ca5;
    }
    .logo {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .logo img {
      max-width: 120px;
    }
    form {
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .question {
      margin-bottom: 15px;
      padding: 10px;
      border-left: 4px solid #b892f0;
      background: #faf9ff;
    }
    .question label {
      display: block;
      margin-top: 5px;
    }
    .buttons {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: #b892f0;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background: #8c5ec9;
    }
    #result {
      margin-top: 25px;
      padding: 15px;
      border-left: 6px solid #52b3b8;
      background: #e8f7f8;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<div class="logo">
  <img src="logo.png" alt="Logo Sophia">
</div>

<h1>Bài trắc nghiệm: Phong cách gắn bó</h1>

<form id="quizForm" action="https://formspree.io/f/mkgzvjwy" method="POST">
  <!-- 20 CÂU ĐÚNG / SAI -->
  <div id="questions"></div>

  <div class="buttons">
    <button type="button" onclick="calculateScore()">XEM KẾT QUẢ</button>
    <button type="submit">GỬI KẾT QUẢ</button>
  </div>

  <div id="result"></div>
</form>

<script>
  const questions = [
    "Tôi cảm thấy không thoải mái khi người khác đến quá gần.",
    "Tôi lo lắng người yêu sẽ không thật sự muốn ở bên tôi.",
    "Tôi thấy dễ dàng để dựa vào người khác.",
    "Tôi thường muốn thân mật hơn trong mối quan hệ, nhưng người kia lại giữ khoảng cách.",
    "Tôi không lo lắng nếu người yêu cần khoảng không gian riêng.",
    "Tôi thường cảm thấy người yêu không đủ quan tâm đến tôi.",
    "Tôi cảm thấy khó tin tưởng hoàn toàn vào người khác.",
    "Tôi sợ bị bỏ rơi, nên thường kiểm soát mối quan hệ.",
    "Tôi thoải mái thể hiện cảm xúc và nhu cầu với người yêu.",
    "Tôi cảm thấy bất an nếu người yêu không phản hồi tin nhắn ngay.",
    "Tôi thường tránh né nói về cảm xúc thật của mình.",
    "Tôi luôn cần được người yêu khẳng định tình cảm.",
    "Tôi thích độc lập và giữ khoảng cách trong mối quan hệ.",
    "Tôi cảm thấy tổn thương sâu sắc nếu người yêu phớt lờ tôi.",
    "Tôi không muốn bị ai đó dựa dẫm quá mức vào mình.",
    "Tôi hay ghen hoặc nghi ngờ khi người yêu nói chuyện với người khác.",
    "Tôi cảm thấy yên tâm và được yêu thương trong mối quan hệ.",
    "Tôi cảm thấy mệt mỏi với việc phải duy trì sự thân mật.",
    "Tôi sợ người yêu sẽ rời bỏ tôi bất cứ lúc nào.",
    "Tôi tin rằng mình xứng đáng được yêu thương."
  ];

  const questionsContainer = document.getElementById("questions");

  questions.forEach((q, i) => {
    const qDiv = document.createElement("div");
    qDiv.classList.add("question");
    qDiv.innerHTML = `
      <p><strong>Câu ${i + 1}:</strong> ${q}</p>
      <label><input type="radio" name="q${i+1}" value="1" required> ĐÚNG</label>
      <label><input type="radio" name="q${i+1}" value="0"> SAI</label>
    `;
    questionsContainer.appendChild(qDiv);
  });

  function calculateScore() {
    const form = document.forms['quizForm'];
    let score = 0;

    for (let i = 1; i <= 20; i++) {
      const val = form[`q${i}`].value;
      score += parseInt(val);
    }

    let style = "";
    let description = "";

    if (score >= 16) {
      style = "Gắn bó an toàn (Secure)";
      description = "Bạn cảm thấy yên tâm, tin tưởng và thoải mái trong mối quan hệ. Đây là phong cách gắn bó lý tưởng.";
    } else if (score >= 12) {
      style = "Gắn bó lo âu (Anxious)";
      description = "Bạn thường cảm thấy bất an và sợ mất đi người mình yêu. Bạn cần sự khẳng định và gần gũi liên tục.";
    } else if (score >= 8) {
      style = "Gắn bó né tránh (Avoidant)";
      description = "Bạn có xu hướng giữ khoảng cách và tránh chia sẻ cảm xúc, thường lo sợ sự phụ thuộc.";
    } else {
      style = "Gắn bó hỗn loạn (Fearful)";
      description = "Bạn vừa khao khát vừa sợ hãi sự thân mật. Điều này có thể bắt nguồn từ những tổn thương trong quá khứ.";
    }

    document.getElementById("result").innerHTML = `
      <h3>Kết quả của bạn: <span style="color:#7f4ca5">${style}</span></h3>
      <p><strong>Điểm số:</strong> ${score}/20</p>
      <p>${description}</p>
    `;
  }
</script>

</body>
</html>
